[vagrant@node2-centos65 ~]$ sudo chef-client
Starting Chef Client, version 11.18.6
resolving cookbooks for run list: ["chef-client::delete_validation", "chef-client", "chef-client::config"]
Synchronizing Cookbooks:
  - cron
  - chef-client
  - logrotate
  - chef_handler
  - windows
Compiling Cookbooks...
Converging 16 resources
Recipe: chef-client::delete_validation
  * file[/etc/chef/validation.pem] action delete (up to date)
Recipe: chef-client::init_service
  * directory[/var/run/chef] action create (up to date)
  * directory[/var/cache/chef] action create (up to date)
  * directory[/var/lib/chef] action create (up to date)
  * directory[/var/log/chef] action create (up to date)
  * directory[/etc/chef] action create (up to date)
  * template[/etc/init.d/chef-client] action create (up to date)
  * template[/etc/sysconfig/chef-client] action create (up to date)
  * service[chef-client] action enable (up to date)
  * service[chef-client] action start (up to date)
Recipe: logrotate::default
  * package[logrotate] action install (up to date)
  * directory[/etc/logrotate.d] action create (up to date)
Recipe: chef-client::config
  * template[/etc/logrotate.d/chef-client] action create (up to date)
  * file[/var/log/chef/client.log] action create (up to date)
  * template[/etc/chef/client.rb] action create (up to date)
  * directory[/etc/chef/client.d] action create (up to date)
  * ruby_block[reload_client_config] action nothing (skipped due to action :nothing)

Running handlers:
Running handlers complete
Chef Client finished, 0/16 resources updated in 7.113443625 seconds
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 14:14:27 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
Starting Chef Client, version 11.18.6
resolving cookbooks for run list: ["chef-client::delete_validation", "chef-client", "chef-client::config"]
Synchronizing Cookbooks:
  - chef-client
  - cron
  - logrotate
  - windows
  - chef_handler
Compiling Cookbooks...
Converging 16 resources
Recipe: chef-client::delete_validation
  * file[/etc/chef/validation.pem] action delete (up to date)
Recipe: chef-client::init_service
  * directory[/var/run/chef] action create (up to date)
  * directory[/var/cache/chef] action create (up to date)
  * directory[/var/lib/chef] action create (up to date)
  * directory[/var/log/chef] action create (up to date)
  * directory[/etc/chef] action create (up to date)
  * template[/etc/init.d/chef-client] action create (up to date)
  * template[/etc/sysconfig/chef-client] action create (up to date)
  * service[chef-client] action enable (up to date)
  * service[chef-client] action start (up to date)
Recipe: logrotate::default
  * package[logrotate] action install (up to date)
  * directory[/etc/logrotate.d] action create (up to date)
Recipe: chef-client::config
  * template[/etc/logrotate.d/chef-client] action create (up to date)
  * file[/var/log/chef/client.log] action create (up to date)
  * template[/etc/chef/client.rb] action create (up to date)
  * directory[/etc/chef/client.d] action create (up to date)
  * ruby_block[reload_client_config] action nothing (skipped due to action :nothing)

Running handlers:
Running handlers complete
Chef Client finished, 0/16 resources updated in 7.475610109 seconds
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ kitchen converge
-----> Starting Kitchen (v1.3.1)
-----> Converging <node2-centos65>...
       Preparing files for transfer
       Preparing script
       bootstrap.sh not found so Kitchen will run a stubbed script. Is this intended?
       Transferring files to <node2-centos65>
       NO BOOTSTRAP SCRIPT PRESENT
       Finished converging <node2-centos65> (0m0.11s).
-----> Kitchen is finished. (0m0.44s)
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 14:40:01 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
Starting Chef Client, version 11.18.6
resolving cookbooks for run list: ["chef-client::delete_validation", "chef-client", "chef-client::config"]
Synchronizing Cookbooks:
  - cron
  - chef-client
  - logrotate
  - windows
  - chef_handler
Compiling Cookbooks...
Converging 16 resources
Recipe: chef-client::delete_validation
  * file[/etc/chef/validation.pem] action delete (up to date)
Recipe: chef-client::init_service
  * directory[/var/run/chef] action create (up to date)
  * directory[/var/cache/chef] action create (up to date)
  * directory[/var/lib/chef] action create (up to date)
  * directory[/var/log/chef] action create (up to date)
  * directory[/etc/chef] action create (up to date)
  * template[/etc/init.d/chef-client] action create (up to date)
  * template[/etc/sysconfig/chef-client] action create (up to date)
  * service[chef-client] action enable (up to date)
  * service[chef-client] action start (up to date)
Recipe: logrotate::default
  * package[logrotate] action install (up to date)
  * directory[/etc/logrotate.d] action create (up to date)
Recipe: chef-client::config
  * template[/etc/logrotate.d/chef-client] action create (up to date)
  * file[/var/log/chef/client.log] action create (up to date)
  * template[/etc/chef/client.rb] action create (up to date)
  * directory[/etc/chef/client.d] action create (up to date)
  * ruby_block[reload_client_config] action nothing (skipped due to action :nothing)

Running handlers:
Running handlers complete
Chef Client finished, 0/16 resources updated in 7.230556866 seconds
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ kitchen destroy
-----> Starting Kitchen (v1.3.1)
-----> Destroying <node2-centos65>...
       ==> default: Forcing shutdown of VM...
       ==> default: Destroying VM and associated drives...
       Vagrant instance <node2-centos65> destroyed.
       Finished destroying <node2-centos65> (0m5.23s).
-----> Kitchen is finished. (0m5.56s)
TimMacBookAir-2:node2 Tim$ kitchen login
>>>>>> ------Exception-------
>>>>>> Class: Kitchen::UserError
>>>>>> Message: Instance <node2-centos65> has not yet been created
>>>>>> ----------------------
>>>>>> Please see .kitchen/logs/kitchen.log for more details
>>>>>> Also try running `kitchen diagnose --all` for configuration

TimMacBookAir-2:node2 Tim$ kitchen converge
-----> Starting Kitchen (v1.3.1)
-----> Creating <node2-centos65>...
       Bringing machine 'default' up with 'virtualbox' provider...
       ==> default: Importing base box 'learningchef/centos65'...
==> default: Matching MAC address for NAT networking...
       ==> default: Checking if box 'learningchef/centos65' is up to date...
       ==> default: Setting the name of the VM: node2-centos65_default_1423406500504_46525
       ==> default: Clearing any previously set network interfaces...
       ==> default: Preparing network interfaces based on configuration...
           default: Adapter 1: nat
           default: Adapter 2: hostonly
       ==> default: Forwarding ports...
           default: 22 => 2222 (adapter 1)
       ==> default: Booting VM...
       ==> default: Waiting for machine to boot. This may take a few minutes...
           default: SSH address: 127.0.0.1:2222
           default: SSH username: vagrant
           default: SSH auth method: private key
           default: Warning: Connection timeout. Retrying...
           default: Warning: Remote connection disconnect. Retrying...
           default: 
           default: Vagrant insecure key detected. Vagrant will automatically replace
           default: this with a newly generated keypair for better security.
           default: 
           default: Inserting generated public key within guest...
           default: Removing insecure key from the guest if its present...
           default: Key inserted! Disconnecting and reconnecting using new SSH key...
       ==> default: Machine booted and ready!
       ==> default: Checking for guest additions in VM...
       ==> default: Setting hostname...
       ==> default: Configuring and enabling network interfaces...
       ==> default: Mounting shared folders...
           default: /chef-repo => /Users/Tim/adesso local Dev/chef-starter/chef-repo
       ==> default: Machine not provisioning because `--no-provision` is specified.
       Vagrant instance <node2-centos65> created.
       Finished creating <node2-centos65> (0m46.81s).
-----> Converging <node2-centos65>...
       Preparing files for transfer
       Preparing script
       bootstrap.sh not found so Kitchen will run a stubbed script. Is this intended?
       Transferring files to <node2-centos65>
       NO BOOTSTRAP SCRIPT PRESENT
       Finished converging <node2-centos65> (0m0.13s).
-----> Kitchen is finished. (0m47.34s)
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 14:42:09 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
sudo: chef-client: command not found
[vagrant@node2-centos65 ~]$ install chef-client
install: Fehlender Zieldatei‐Operand hinter „chef-client“
„install --help“ gibt weitere Informationen.
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife bootstrap --sudo --ssh-user vagrant --ssh-password vagrant --no-host-key-verify node-centos65.api.opscode.com/organizations/test151234
Connecting to node-centos65.api.opscode.com/organizations/test151234
ERROR: Network Error: Operation timed out - connect(2) for "node-centos65.api.opscode.com/organizations/test151234" port 22
Check your knife configuration and network settings
TimMacBookAir-2:node2 Tim$ vagrant global-status 
id       name    provider   state                                         directory                                                                                                  
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
e8a6af6  default azure      Machine's current state is StoppedDeallocated /Users/Tim/adesso local Dev/vagrant2                                                                       
117e3b1  default azure      Machine's current state is StoppedDeallocated /Users/Tim/adesso local Dev/vagrant                                                                        
c46e42c  default virtualbox running                                       /Users/Tim/adesso local Dev/chef-starter/chef-repo/cookbooks/node2/.kitchen/kitchen-vagrant/node2-centos65 
 
The above shows information about all known Vagrant environments
on this machine. This data is cached and may not be completely
up-to-date. To interact with any of the machines, you can go to
that directory and run Vagrant, or you can use the ID directly
with Vagrant commands from any directory. For example:
"vagrant destroy 1a2b3c4d"
TimMacBookAir-2:node2 Tim$ sudo sh -c "echo '192.168.33.36 node2-centos65.api.opscode.com/organizations/test151234' >> /etc/hosts"
Password:
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 14:42:15 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo sh -c "echo '192.168.33.37 default-centos65.api.opscode.com/organizations/test151234' >> /etc/hosts"
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife bootstrap --sudo --ssh-user vagrant --ssh-password vagrant --no-host-key-verify node-centos65.api.opscode.com/organizations/test151234
Connecting to node-centos65.api.opscode.com/organizations/test151234
^CTimMacBookAir-2:node2 Tim$ knife bootstrap --sudo --ssh-user vagrant --ssh-password vagrant --no-ho-key-verify node2-centos65.api.opscode.com/organizations/test151234
Connecting to node2-centos65.api.opscode.com/organizations/test151234
node2-centos65.api.opscode.com/organizations/test151234 Installing Chef Client...
node2-centos65.api.opscode.com/organizations/test151234 --2015-02-08 14:47:31--  https://www.opscode.com/chef/install.sh
node2-centos65.api.opscode.com/organizations/test151234 Auflösen des Hostnamen »www.opscode.com«.... 184.106.28.91
node2-centos65.api.opscode.com/organizations/test151234 Verbindungsaufbau zu www.opscode.com|184.106.28.91|:443... verbunden.
node2-centos65.api.opscode.com/organizations/test151234 HTTP Anforderung gesendet, warte auf Antwort... 200 OK
node2-centos65.api.opscode.com/organizations/test151234 Länge: 18285 (18K) [application/x-sh]
node2-centos65.api.opscode.com/organizations/test151234 In »»STDOUT«« speichern.
node2-centos65.api.opscode.com/organizations/test151234 
100%[======================================>] 18.285      --.-K/s   in 0,002s  
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 2015-02-08 14:47:32 (10,8 MB/s) - auf die Standardausgabe geschrieben [18285/18285]
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Downloading Chef 11 for el...
node2-centos65.api.opscode.com/organizations/test151234 downloading https://www.opscode.com/chef/metadata?v=11&prerelease=false&nightlies=false&p=el&pv=6&m=x86_64
node2-centos65.api.opscode.com/organizations/test151234   to file /tmp/install.sh.2891/metadata.txt
node2-centos65.api.opscode.com/organizations/test151234 trying wget...
node2-centos65.api.opscode.com/organizations/test151234 url	https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234 md5	b4ccffea24007b83ffdd99b16aea9661
node2-centos65.api.opscode.com/organizations/test151234 sha256	f531541c6786f274bd62fb46bc1ea8f2d70c083e10777b2544c6503c0f90c598
node2-centos65.api.opscode.com/organizations/test151234 downloaded metadata file looks valid...
node2-centos65.api.opscode.com/organizations/test151234 downloading https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234   to file /tmp/install.sh.2891/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234 trying wget...
node2-centos65.api.opscode.com/organizations/test151234 trying curl...
node2-centos65.api.opscode.com/organizations/test151234 Comparing checksum with sha256sum...
node2-centos65.api.opscode.com/organizations/test151234 Installing Chef 11
node2-centos65.api.opscode.com/organizations/test151234 installing with rpm...
node2-centos65.api.opscode.com/organizations/test151234 Warnung: /tmp/install.sh.2891/chef-11.18.6-1.el6.x86_64.rpm: Header V4 DSA/SHA1 Signature, Schlüssel-ID 83ef826a: NOKEY
node2-centos65.api.opscode.com/organizations/test151234 Vorbereiten...              ########################################### [100%]
node2-centos65.api.opscode.com/organizations/test151234    1:chef                   ########################################### [100%]
node2-centos65.api.opscode.com/organizations/test151234 Thank you for installing Chef!
node2-centos65.api.opscode.com/organizations/test151234 Starting first Chef Client run...
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T14:48:01+00:00] WARN: 
node2-centos65.api.opscode.com/organizations/test151234 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
node2-centos65.api.opscode.com/organizations/test151234 SSL validation of HTTPS requests is disabled. HTTPS connections are still
node2-centos65.api.opscode.com/organizations/test151234 encrypted, but chef is not able to detect forged replies or man in the middle
node2-centos65.api.opscode.com/organizations/test151234 attacks.
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 To fix this issue add an entry like this to your configuration file:
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234   # Verify all HTTPS connections (recommended)
node2-centos65.api.opscode.com/organizations/test151234   ssl_verify_mode :verify_peer
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234   # OR, Verify only connections to chef-server
node2-centos65.api.opscode.com/organizations/test151234   verify_api_cert true
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 To check your SSL configuration, or troubleshoot errors, you can use the
node2-centos65.api.opscode.com/organizations/test151234 `knife ssl check` command like so:
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234   knife ssl check -c /etc/chef/client.rb
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Starting Chef Client, version 11.18.6
node2-centos65.api.opscode.com/organizations/test151234 Creating a new client identity for node2-centos65.vagrantup.com using the validator key.
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 ================================================================================
node2-centos65.api.opscode.com/organizations/test151234 Chef encountered an error attempting to create the client "node2-centos65.vagrantup.com"
node2-centos65.api.opscode.com/organizations/test151234 ================================================================================
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Authorization Error:
node2-centos65.api.opscode.com/organizations/test151234 --------------------
node2-centos65.api.opscode.com/organizations/test151234 Your validation client is not authorized to create the client for this node (HTTP 403).
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Possible Causes:
node2-centos65.api.opscode.com/organizations/test151234 ----------------
node2-centos65.api.opscode.com/organizations/test151234 * There may already be a client named "node2-centos65.vagrantup.com"
node2-centos65.api.opscode.com/organizations/test151234 * Your validation client (test151234-validator) may have misconfigured authorization permissions.
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T14:48:04+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
node2-centos65.api.opscode.com/organizations/test151234 Chef Client failed. 0 resources updated in 3.248865915 seconds
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T14:48:04+00:00] ERROR: 403 "Forbidden"
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T14:48:04+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 14:47:31 2015 from 192.168.33.1
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
[2015-02-08T14:48:55+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c /etc/chef/client.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

Starting Chef Client, version 11.18.6
Creating a new client identity for node2-centos65.vagrantup.com using the validator key.

================================================================================
Chef encountered an error attempting to create the client "node2-centos65.vagrantup.com"
================================================================================

Authorization Error:
--------------------
Your validation client is not authorized to create the client for this node (HTTP 403).

Possible Causes:
----------------
* There may already be a client named "node2-centos65.vagrantup.com"
* Your validation client (test151234-validator) may have misconfigured authorization permissions.

[2015-02-08T14:49:00+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
Chef Client failed. 0 resources updated in 5.214974364 seconds
[2015-02-08T14:49:00+00:00] ERROR: 403 "Forbidden"
[2015-02-08T14:49:00+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
[vagrant@node2-centos65 ~]$ sudo chef-client
[2015-02-08T14:50:01+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c /etc/chef/client.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

Starting Chef Client, version 11.18.6
Creating a new client identity for node2-centos65.vagrantup.com using the validator key.

================================================================================
Chef encountered an error attempting to create the client "node2-centos65.vagrantup.com"
================================================================================

Authorization Error:
--------------------
Your validation client is not authorized to create the client for this node (HTTP 403).

Possible Causes:
----------------
* There may already be a client named "node2-centos65.vagrantup.com"
* Your validation client (test151234-validator) may have misconfigured authorization permissions.

[2015-02-08T14:50:04+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
Chef Client failed. 0 resources updated in 3.332630718 seconds
[2015-02-08T14:50:04+00:00] ERROR: 403 "Forbidden"
[2015-02-08T14:50:04+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife client delete node2-centos65
Do you really want to delete node2-centos65? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: Cannot load client node2-centos65
TimMacBookAir-2:node2 Tim$ kitchen destroy
-----> Starting Kitchen (v1.3.1)
-----> Destroying <node2-centos65>...
       ==> default: Forcing shutdown of VM...
       ==> default: Destroying VM and associated drives...
       Vagrant instance <node2-centos65> destroyed.
       Finished destroying <node2-centos65> (0m5.19s).
-----> Kitchen is finished. (0m5.54s)
TimMacBookAir-2:node2 Tim$ knife client delete node2-centos65
Do you really want to delete node2-centos65? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: Cannot load client node2-centos65
TimMacBookAir-2:node2 Tim$ knife node delete node2-centos65
Do you really want to delete node2-centos65? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: node 'node2-centos65' not found
TimMacBookAir-2:node2 Tim$ knife node delete node2-centos65.api.opscode.com/organizations/test151234
Do you really want to delete node2-centos65.api.opscode.com/organizations/test151234? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: <HTML><HEAD><TITLE>404 Not Found</TITLE></HEAD><BODY><H1>Not Found</H1>The requested document was not found on this server.<P><HR><ADDRESS>mochiweb+webmachine web server</ADDRESS></BODY></HTML>
TimMacBookAir-2:node2 Tim$ knife node delete node2
Do you really want to delete node2? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: node 'node2' not found
TimMacBookAir-2:node2 Tim$ cd ..
TimMacBookAir-2:cookbooks Tim$ ls
MyAzureCookbook				create new node + chef-client.txt
bootstrap.txt				cron
chef-client				logrotate
chef-client no found.txt		node
chef-client validation error.txt	node2
chef_handler				starter
chefignore				windows
TimMacBookAir-2:cookbooks Tim$ knife node delete node2
Do you really want to delete node2? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: node 'node2' not found
TimMacBookAir-2:cookbooks Tim$ knife node delete node2-centos65
Do you really want to delete node2-centos65? (Y/N)Y
ERROR: The object you are looking for could not be found
Response: node 'node2-centos65' not found
TimMacBookAir-2:cookbooks Tim$ knife client delete node2-centos65.vagrantup.com
Do you really want to delete node2-centos65.vagrantup.com? (Y/N)Y
Deleted client[node2-centos65.vagrantup.com]
TimMacBookAir-2:cookbooks Tim$ knife node delete node2-centos65.vagrantup.com
Do you really want to delete node2-centos65.vagrantup.com? (Y/N)Y
Deleted node[node2-centos65.vagrantup.com]
TimMacBookAir-2:cookbooks Tim$ knife bootstrap --sudo --ssh-user vagrant --ssh-password vagrant --no-host-key-verify node2-centos65.api.opscode.com/organizations/test151234
Connecting to node2-centos65.api.opscode.com/organizations/test151234
ERROR: Network Error: Operation timed out - connect(2) for "node2-centos65.api.opscode.com/organizations/test151234" port 22
Check your knife configuration and network settings
TimMacBookAir-2:cookbooks Tim$ kitchen login
>>>>>> ------Exception-------
>>>>>> Class: Kitchen::UserError
>>>>>> Message: Kitchen YAML file /Users/Tim/adesso local Dev/chef-starter/chef-repo/cookbooks/.kitchen.yml does not exist.
>>>>>> ----------------------
>>>>>> Please see .kitchen/logs/kitchen.log for more details
>>>>>> Also try running `kitchen diagnose --all` for configuration

TimMacBookAir-2:cookbooks Tim$ kitchen converge
-----> Starting Kitchen (v1.3.1)
>>>>>> ------Exception-------
>>>>>> Class: Kitchen::UserError
>>>>>> Message: Kitchen YAML file /Users/Tim/adesso local Dev/chef-starter/chef-repo/cookbooks/.kitchen.yml does not exist.
>>>>>> ----------------------
>>>>>> Please see .kitchen/logs/kitchen.log for more details
>>>>>> Also try running `kitchen diagnose --all` for configuration

TimMacBookAir-2:cookbooks Tim$ cd node
node/  node2/ 
TimMacBookAir-2:cookbooks Tim$ cd node2/
TimMacBookAir-2:node2 Tim$ kitchen login
>>>>>> ------Exception-------
>>>>>> Class: Kitchen::UserError
>>>>>> Message: Instance <node2-centos65> has not yet been created
>>>>>> ----------------------
>>>>>> Please see .kitchen/logs/kitchen.log for more details
>>>>>> Also try running `kitchen diagnose --all` for configuration

TimMacBookAir-2:node2 Tim$ kitchen converge
-----> Starting Kitchen (v1.3.1)
-----> Creating <node2-centos65>...
       Bringing machine 'default' up with 'virtualbox' provider...
       ==> default: Importing base box 'learningchef/centos65'...
==> default: Matching MAC address for NAT networking...
       ==> default: Checking if box 'learningchef/centos65' is up to date...
       ==> default: Setting the name of the VM: node2-centos65_default_1423407646963_62360
       ==> default: Clearing any previously set network interfaces...
       ==> default: Preparing network interfaces based on configuration...
           default: Adapter 1: nat
           default: Adapter 2: hostonly
       ==> default: Forwarding ports...
           default: 22 => 2222 (adapter 1)
       ==> default: Booting VM...
       ==> default: Waiting for machine to boot. This may take a few minutes...
           default: SSH address: 127.0.0.1:2222
           default: SSH username: vagrant
           default: SSH auth method: private key
           default: Warning: Connection timeout. Retrying...
           default: 
           default: Vagrant insecure key detected. Vagrant will automatically replace
           default: this with a newly generated keypair for better security.
           default: 
           default: Inserting generated public key within guest...
           default: Removing insecure key from the guest if its present...
           default: Key inserted! Disconnecting and reconnecting using new SSH key...
       ==> default: Machine booted and ready!
       ==> default: Checking for guest additions in VM...
       ==> default: Setting hostname...
       ==> default: Configuring and enabling network interfaces...
       ==> default: Mounting shared folders...
           default: /chef-repo => /Users/Tim/adesso local Dev/chef-starter/chef-repo
       ==> default: Machine not provisioning because `--no-provision` is specified.
       Vagrant instance <node2-centos65> created.
       Finished creating <node2-centos65> (0m50.21s).
-----> Converging <node2-centos65>...
       Preparing files for transfer
       Preparing script
       bootstrap.sh not found so Kitchen will run a stubbed script. Is this intended?
       Transferring files to <node2-centos65>
       NO BOOTSTRAP SCRIPT PRESENT
       Finished converging <node2-centos65> (0m0.16s).
-----> Kitchen is finished. (0m50.73s)
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 15:01:18 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-dlient
sudo: chef-dlient: command not found
[vagrant@node2-centos65 ~]$ sudo chef-client
sudo: chef-client: command not found
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife bootstrap --sudo --ssh-user vagrant --ssh-password vagrant --no-host-key-verify node2-centos65.api.opscode.com/organizations/test151234
Connecting to node2-centos65.api.opscode.com/organizations/test151234
node2-centos65.api.opscode.com/organizations/test151234 Installing Chef Client...
node2-centos65.api.opscode.com/organizations/test151234 --2015-02-08 15:02:16--  https://www.opscode.com/chef/install.sh
node2-centos65.api.opscode.com/organizations/test151234 Auflösen des Hostnamen »www.opscode.com«.... 184.106.28.91
node2-centos65.api.opscode.com/organizations/test151234 Verbindungsaufbau zu www.opscode.com|184.106.28.91|:443... verbunden.
node2-centos65.api.opscode.com/organizations/test151234 HTTP Anforderung gesendet, warte auf Antwort... 200 OK
node2-centos65.api.opscode.com/organizations/test151234 Länge: 18285 (18K) [application/x-sh]
node2-centos65.api.opscode.com/organizations/test151234 In »»STDOUT«« speichern.
node2-centos65.api.opscode.com/organizations/test151234 
 0% [                                       ] 0           --.-K/s              Downloading Chef 11 for el...
node2-centos65.api.opscode.com/organizations/test151234 downloading https://www.opscode.com/chef/metadata?v=11&prerelease=false&nightlies=false&p=el&pv=6&m=x86_64
node2-centos65.api.opscode.com/organizations/test151234   to file /tmp/install.sh.2874/metadata.txt
node2-centos65.api.opscode.com/organizations/test151234 trying wget...
100%[======================================>] 18.285      --.-K/s   in 0,1s    
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 2015-02-08 15:02:17 (134 KB/s) - auf die Standardausgabe geschrieben [18285/18285]
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 url	https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234 md5	b4ccffea24007b83ffdd99b16aea9661
node2-centos65.api.opscode.com/organizations/test151234 sha256	f531541c6786f274bd62fb46bc1ea8f2d70c083e10777b2544c6503c0f90c598
node2-centos65.api.opscode.com/organizations/test151234 downloaded metadata file looks valid...
node2-centos65.api.opscode.com/organizations/test151234 downloading https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234   to file /tmp/install.sh.2874/chef-11.18.6-1.el6.x86_64.rpm
node2-centos65.api.opscode.com/organizations/test151234 trying wget...
node2-centos65.api.opscode.com/organizations/test151234 trying curl...
node2-centos65.api.opscode.com/organizations/test151234 Comparing checksum with sha256sum...
node2-centos65.api.opscode.com/organizations/test151234 Installing Chef 11
node2-centos65.api.opscode.com/organizations/test151234 installing with rpm...
node2-centos65.api.opscode.com/organizations/test151234 Warnung: /tmp/install.sh.2874/chef-11.18.6-1.el6.x86_64.rpm: Header V4 DSA/SHA1 Signature, Schlüssel-ID 83ef826a: NOKEY
node2-centos65.api.opscode.com/organizations/test151234 Vorbereiten...              ########################################### [100%]
node2-centos65.api.opscode.com/organizations/test151234    1:chef                   ########################################### [100%]
node2-centos65.api.opscode.com/organizations/test151234 Thank you for installing Chef!
node2-centos65.api.opscode.com/organizations/test151234 Starting first Chef Client run...
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T15:03:15+00:00] WARN: 
node2-centos65.api.opscode.com/organizations/test151234 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
node2-centos65.api.opscode.com/organizations/test151234 SSL validation of HTTPS requests is disabled. HTTPS connections are still
node2-centos65.api.opscode.com/organizations/test151234 encrypted, but chef is not able to detect forged replies or man in the middle
node2-centos65.api.opscode.com/organizations/test151234 attacks.
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 To fix this issue add an entry like this to your configuration file:
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234   # Verify all HTTPS connections (recommended)
node2-centos65.api.opscode.com/organizations/test151234   ssl_verify_mode :verify_peer
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234   # OR, Verify only connections to chef-server
node2-centos65.api.opscode.com/organizations/test151234   verify_api_cert true
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 To check your SSL configuration, or troubleshoot errors, you can use the
node2-centos65.api.opscode.com/organizations/test151234 `knife ssl check` command like so:
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234   knife ssl check -c /etc/chef/client.rb
node2-centos65.api.opscode.com/organizations/test151234 ```
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Starting Chef Client, version 11.18.6
node2-centos65.api.opscode.com/organizations/test151234 Creating a new client identity for node2-centos65.vagrantup.com using the validator key.
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T15:03:43+00:00] ERROR: Server returned error 500 for https://api.opscode.com/organizations/test151234/reports/nodes/node2-centos65.vagrantup.com/runs, retrying 1/5 in 4s
node2-centos65.api.opscode.com/organizations/test151234 resolving cookbooks for run list: []
node2-centos65.api.opscode.com/organizations/test151234 Synchronizing Cookbooks:
node2-centos65.api.opscode.com/organizations/test151234 Compiling Cookbooks...
node2-centos65.api.opscode.com/organizations/test151234 [2015-02-08T15:03:49+00:00] WARN: Node node2-centos65.vagrantup.com has an empty run list.
node2-centos65.api.opscode.com/organizations/test151234 Converging 0 resources
node2-centos65.api.opscode.com/organizations/test151234 
node2-centos65.api.opscode.com/organizations/test151234 Running handlers:
node2-centos65.api.opscode.com/organizations/test151234 Running handlers complete
node2-centos65.api.opscode.com/organizations/test151234 Chef Client finished, 0/0 resources updated in 34.213587268 seconds
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 15:02:16 2015 from 192.168.33.1
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
[2015-02-08T15:13:06+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c /etc/chef/client.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

Starting Chef Client, version 11.18.6
resolving cookbooks for run list: []
Synchronizing Cookbooks:
Compiling Cookbooks...
[2015-02-08T15:13:10+00:00] WARN: Node node2-centos65.vagrantup.com has an empty run list.
Converging 0 resources

Running handlers:
Running handlers complete
Chef Client finished, 0/0 resources updated in 5.470555129 seconds
[vagrant@node2-centos65 ~]$ sudo chef-client
[2015-02-08T15:13:17+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c /etc/chef/client.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

Starting Chef Client, version 11.18.6
resolving cookbooks for run list: []
Synchronizing Cookbooks:
Compiling Cookbooks...
[2015-02-08T15:13:21+00:00] WARN: Node node2-centos65.vagrantup.com has an empty run list.
Converging 0 resources

Running handlers:
Running handlers complete
Chef Client finished, 0/0 resources updated in 4.902131376 seconds
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife ssl check -c /etc/chef/client.rb
ERROR: Specified config file /etc/chef/client.rb does not exist!
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 15:13:02 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ knife ssl check -c /etc/chef/client.rb
Connecting to host api.opscode.com:443
Successfully verified certificates from `api.opscode.com'
[vagrant@node2-centos65 ~]$ exit
Abgemeldet
Connection to 127.0.0.1 closed.
TimMacBookAir-2:node2 Tim$ knife node run_list add node2-centos65.vagrantup.com "recipe[chef-client::delete_validation],recipe[chef-client],recipe[chef-client::config]"
node2-centos65.vagrantup.com:
  run_list:
    recipe[chef-client::delete_validation]
    recipe[chef-client]
    recipe[chef-client::config]
TimMacBookAir-2:node2 Tim$ kitchen converge
-----> Starting Kitchen (v1.3.1)
-----> Converging <node2-centos65>...
       Preparing files for transfer
       Preparing script
       bootstrap.sh not found so Kitchen will run a stubbed script. Is this intended?
       Transferring files to <node2-centos65>
       NO BOOTSTRAP SCRIPT PRESENT
       Finished converging <node2-centos65> (0m0.12s).
-----> Kitchen is finished. (0m0.48s)
TimMacBookAir-2:node2 Tim$ kitchen login
Last login: Sun Feb  8 15:16:02 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@node2-centos65 ~]$ sudo chef-client
[2015-02-08T15:16:11+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c /etc/chef/client.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

Starting Chef Client, version 11.18.6
resolving cookbooks for run list: ["chef-client::delete_validation", "chef-client", "chef-client::config"]
Synchronizing Cookbooks:
  - chef-client
  - cron
  - logrotate
[2015-02-08T15:16:22+00:00] ERROR: Error connecting to https://s3-external-1.amazonaws.com/opscode-platform-production-data/organization-ddcd56d7cd39b93ae16caf82debf5459/checksum-a972c99b49348f6c02743d6056deb4ab?AWSAccessKeyId=AKIAIQKPG2CTSTRVDO4Q&Expires=1423412176&Signature=PuMlSd%2BqZv5ATkHH0k0vSoJ%2B4m8%3D, retry 1/5
  - chef_handler
  - windows
Compiling Cookbooks...
Converging 16 resources
Recipe: chef-client::delete_validation
  * file[/etc/chef/validation.pem] action delete
    - delete file /etc/chef/validation.pem
Recipe: chef-client::init_service
  * directory[/var/run/chef] action create
    - create new directory /var/run/chef
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * directory[/var/cache/chef] action create
    - create new directory /var/cache/chef
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * directory[/var/lib/chef] action create
    - create new directory /var/lib/chef
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * directory[/var/log/chef] action create
    - create new directory /var/log/chef
    - change mode from '' to '0750'
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * directory[/etc/chef] action create (up to date)
  * template[/etc/init.d/chef-client] action create
    - create new file /etc/init.d/chef-client
    - update content in file /etc/init.d/chef-client from none to f352ec
    --- /etc/init.d/chef-client	2015-02-08 15:16:28.706119809 +0000
    +++ /tmp/chef-rendered-template20150208-3515-hpbaf3	2015-02-08 15:16:28.707120277 +0000
    @@ -1 +1,110 @@
    +#!/bin/bash
    +#
    +# chef-client Startup script for the Chef client
    +#
    +# chkconfig: - 98 02
    +# description: Client component of the Chef systems integration framework.
    +
    +### BEGIN INIT INFO
    +# Provides: chef-client
    +# Required-Start: $local_fs $network $remote_fs
    +# Required-Stop: $local_fs $network $remote_fs
    +# Should-Start: $named $time
    +# Should-Stop: $named $time
    +# Short-Description: Startup script for the Chef client
    +# Description: Client component of the Chef systems integration framework.
    +### END INIT INFO
    +
    +# Source function library
    +. /etc/init.d/functions
    +
    +exec="/usr/bin/chef-client"
    +prog="chef-client"
    +
    +[ -e /etc/sysconfig/$prog ] && . /etc/sysconfig/$prog
    +
    +config=${CONFIG-/etc/chef/client.rb}
    +pidfile=${PIDFILE-/var/run/chef/client.pid}
    +lockfile=${LOCKFILE-/var/lock/subsys/$prog}
    +interval=${INTERVAL-1800}
    +splay=${SPLAY-20}
    +options=${OPTIONS-}
    +
    +start() {
    +    [ -x $exec ] || exit 5
    +    [ -f $config ] || exit 6
    +    echo -n $"Starting $prog: "
    +    daemon $exec -d -c "$config" -P "$pidfile" -i "$interval" -s "$splay" "$options"
    +    retval=$?
    +    echo
    +    [ $retval -eq 0 ] && touch $lockfile
    +    return $retval
    +}
    +
    +stop() {
    +    echo -n $"Stopping $prog: "
    +    killproc -p $pidfile $exec
    +    retval=$?
    +    echo
    +    [ $retval -eq 0 ] && rm -f $lockfile
    +    return $retval
    +}
    +
    +restart () {
    +    stop
    +    start
    +}
    +
    +reload() {
    +    echo -n $"Reloading $prog: "
    +    killproc -p $pidfile $exec -HUP
    +    retval=$?
    +    echo
    +    return $retval
    +}
    +
    +force_reload() {
    +    restart
    +}
    +
    +rh_status() {
    +    # run checks to determine if the service is running or use generic status
    +    status -p $pidfile $prog
    +}
    +
    +rh_status_q() {
    +    rh_status >/dev/null 2>&1
    +}
    +
    +case "$1" in
    +    start)
    +        rh_status_q && exit 0
    +        $1
    +        ;;
    +    stop)
    +        rh_status_q || exit 0
    +        $1
    +        ;;
    +    restart)
    +        $1
    +        ;;
    +    reload)
    +        rh_status_q || exit 7
    +        $1
    +        ;;
    +    force-reload)
    +        force_reload
    +        ;;
    +    status)
    +        rh_status
    +        ;;
    +    condrestart|try-restart)
    +        rh_status_q || exit 0
    +        restart
    +        ;;
    +    *)
    +        echo $"Usage: $0 {start|stop|status|restart|condrestart|try-restart|reload|force-reload}"
    +        exit 2
    +esac
    +exit $?
    - change mode from '' to '0755'
  * template[/etc/sysconfig/chef-client] action create
    - create new file /etc/sysconfig/chef-client
    - update content in file /etc/sysconfig/chef-client from none to ec7de1
    --- /etc/sysconfig/chef-client	2015-02-08 15:16:29.285408672 +0000
    +++ /tmp/chef-rendered-template20150208-3515-urcc32	2015-02-08 15:16:29.286409193 +0000
    @@ -1 +1,15 @@
    +# Configuration file for the chef-client service
    +
    +CONFIG=/etc/chef/client.rb
    +PIDFILE=/var/run/chef/client.pid
    +#LOCKFILE=/var/lock/subsys/chef-client
    +# Sleep interval between runs.
    +# This value is in seconds.
    +INTERVAL=1800
    +# Maximum amount of random delay before starting a run. Prevents every client
    +# from contacting the server at the exact same time.
    +# This value is in seconds.
    +SPLAY=300
    +# Any additional chef-client options.
    +OPTIONS=""
    - change mode from '' to '0644'
  * service[chef-client] action enable
    - enable service service[chef-client]
  * service[chef-client] action start
    - start service service[chef-client]
Recipe: logrotate::default
  * package[logrotate] action install (up to date)
  * directory[/etc/logrotate.d] action create (up to date)
Recipe: chef-client::config
  * template[/etc/logrotate.d/chef-client] action create
    - create new file /etc/logrotate.d/chef-client
    - update content in file /etc/logrotate.d/chef-client from none to 934f89
    --- /etc/logrotate.d/chef-client	2015-02-08 15:16:42.533026778 +0000
    +++ /tmp/chef-rendered-template20150208-3515-hk0nl9	2015-02-08 15:16:42.534027361 +0000
    @@ -1 +1,12 @@
    +# This file was generated by Chef for node2-centos65.vagrantup.com.
    +# Do not modify this file by hand!
    +
    +"/var/log/chef/client.log" {
    +  weekly
    +  rotate 12
    +  compress
    +  postrotate
    +/etc/init.d/chef-client reload >/dev/null || :
    +  endscript
    +}
    - change mode from '' to '0440'
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * file[/var/log/chef/client.log] action create
    - create new file /var/log/chef/client.log
    - change mode from '' to '0640'
  * template[/etc/chef/client.rb] action create
    - update content in file /etc/chef/client.rb from a487da to 471e52
    --- /etc/chef/client.rb	2015-02-08 15:03:13.822876553 +0000
    +++ /tmp/chef-rendered-template20150208-3515-vs4woa	2015-02-08 15:16:43.117320751 +0000
    @@ -1,6 +1,11 @@
    -log_location     STDOUT
    -chef_server_url  "https://api.opscode.com/organizations/test151234"
    +chef_server_url "https://api.opscode.com/organizations/test151234"
    +log_location '/var/log/chef/client.log'
     validation_client_name "test151234-validator"
    +verify_api_cert true
     # Using default node name (fqdn)
     
    +
    +Dir.glob(File.join("/etc/chef", "client.d", "*.rb")).each do |conf|
    +  Chef::Config.from_file(conf)
    +end
  * ruby_block[reload_client_config] action create
    - execute the ruby block reload_client_config
  * directory[/etc/chef/client.d] action create
    - create new directory /etc/chef/client.d
    - change mode from '' to '0755'
    - change owner from '' to 'root'
    - change group from '' to 'root'
  * ruby_block[reload_client_config] action nothing (skipped due to action :nothing)
Recipe: chef-client::init_service
  * service[chef-client] action restart
    - restart service service[chef-client]

Running handlers:
Running handlers complete
Chef Client finished, 15/18 resources updated in 37.696522111 seconds
[vagrant@node2-centos65 ~]$ sudo chef-client
Starting Chef Client, version 11.18.6
resolving cookbooks for run list: ["chef-client::delete_validation", "chef-client", "chef-client::config"]
Synchronizing Cookbooks:
  - chef-client
  - cron
  - logrotate
  - windows
  - chef_handler
Compiling Cookbooks...
Converging 16 resources
Recipe: chef-client::delete_validation
  * file[/etc/chef/validation.pem] action delete (up to date)
Recipe: chef-client::init_service
  * directory[/var/run/chef] action create (up to date)
  * directory[/var/cache/chef] action create (up to date)
  * directory[/var/lib/chef] action create (up to date)
  * directory[/var/log/chef] action create (up to date)
  * directory[/etc/chef] action create (up to date)
  * template[/etc/init.d/chef-client] action create (up to date)
  * template[/etc/sysconfig/chef-client] action create (up to date)
  * service[chef-client] action enable (up to date)
  * service[chef-client] action start (up to date)
Recipe: logrotate::default
  * package[logrotate] action install (up to date)
  * directory[/etc/logrotate.d] action create (up to date)
Recipe: chef-client::config
  * template[/etc/logrotate.d/chef-client] action create (up to date)
  * file[/var/log/chef/client.log] action create (up to date)
  * template[/etc/chef/client.rb] action create (up to date)
  * directory[/etc/chef/client.d] action create (up to date)
  * ruby_block[reload_client_config] action nothing (skipped due to action :nothing)

Running handlers:
Running handlers complete
Chef Client finished, 0/16 resources updated in 7.837924579 seconds
[vagrant@node2-centos65 ~]$ 
